# Shell options
setopt HIST_IGNORE_SPACE
autoload -Uz compinit
compinit

# Aliases
alias l="ls -la"
alias sed=gsed
alias vim=nvim
{{ if eq .laptopType "work" }}
alias k="kubectl"
alias kctx="konf set"
alias kns="konf ns"
{{ end }}

# XDG User Directories
# https://wiki.archlinux.org/title/XDG_Base_Directory
export XDG_CONFIG_HOME="$HOME/.config"
export XDG_LOCAL_HOME="$HOME/.local"
export XDG_DATA_HOME="$XDG_LOCAL_HOME/share"
export XDG_CACHE_HOME="$HOME/.cache"

# PATH
export RANCHER_DESKTOP="$HOME/.rd/bin"
export PATH="$RANCHER_DESKTOP:$PATH"
export PATH="$HOME/.jbang/bin:$PATH"
export PATH="/usr/local/opt/gnu-getopt/bin:$PATH"
export PATH="/usr/local/opt/gnu-sed/bin/:$PATH"

export AQUA_GLOBAL_CONFIG="$XDG_CONFIG_HOME/aqua/aqua.yaml"
export AQUA_ROOT_DIR="$XDG_DATA_HOME/aquaproj-aqua"
export PATH="$AQUA_ROOT_DIR/bin:$PATH"

# Global variables
export BAT_THEME="Solarized (dark)"
export DOTNET_CLI_TELEMETRY_OPTOUT=true
export STARSHIP_CONFIG="$XDG_CONFIG_HOME/starship/starship.toml"

export SSH_AUTH_SOCK=~/.1password/agent.sock

# Evaluation
eval "$(starship init zsh)"
eval "$(direnv hook zsh)"
eval "$(fnm env --use-on-cd)"
eval "$(zoxide init zsh)"
{{ if eq .laptopType "work" }}
# konf-go
source <(konf-go shellwrapper zsh)
source <(konf completion zsh)
{{ end }}

[[ $commands[kubectl] ]] && source <(kubectl completion zsh 2> /dev/null)
[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
